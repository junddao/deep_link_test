<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>앱 설치 및 실행 확인</title>
  </head>
  <body>
    <script>
      function openAppOrRedirect() {
        const userAgent = navigator.userAgent.toLowerCase();
        const isiOS = /iphone|ipad|ipod/.test(userAgent);
        const isAndroid = /android/.test(userAgent);

        if (isiOS) {
          // iOS 기기에서 앱 실행 시도
          window.location.href = "https://dongnesosik.com";

          // 일정 시간 후 앱이 설치되지 않았다면 App Store로 리디렉션
          setTimeout(function () {
            window.location.href =
              "https://apps.apple.com/kr/app/%EB%8F%99%EB%84%A4%EC%86%8C%EC%8B%9D/id1597758008";
          }, 1000);
        } else if (isAndroid) {
          // Android 기기에서 앱 실행 시도
          window.location.href =
            "intent://aaa#Intent;scheme=dongnesosik;package=com.example.package;end;";

          // 일정 시간 후 앱이 설치되지 않았다면 Play Store로 리디렉션
          setTimeout(function () {
            window.location.href =
              "https://play.google.com/store/search?q=%EB%8F%99%EB%84%A4%EC%86%8C%EC%8B%9D&c=apps";
          }, 1000);
        } else {
          alert("이 페이지는 모바일 기기에서만 사용할 수 있습니다.");
        }
      }

      // 페이지 로드 시 자동으로 실행
      window.onload = openAppOrRedirect;
    </script>
  </body>
</html>
